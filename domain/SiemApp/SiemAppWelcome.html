<div ng-controller="SiemAppWelcome" class="SiemAppWelcome">

    <!-- side menu -->
    <div id="mySidenav" class="container" style="height: 100%; width: 0; position: fixed; z-index: 1; top: 0; left: 0; background-color: #111; overflow-x: hidden; padding-top: 60px; transition: 0.5s;">
        <div>
            <script>
                function closeNav() {
                    document.getElementById("mySidenav").style.width = "0";
                }
            </script>
            <a href="javascript:void(0)" onclick="closeNav()" style="position: absolute; top: 0; right: 25px; font-size: 36px; margin-left: 50px;">&times;</a>
        </div>
        <div>
            <a ui-sref="welcome" style="padding: 8px 8px 8px 32px; text-decoration: none; font-size: 25px; color: #818181; display: block; transition: 0.3s">Home</a>
        </div>
        <div ng-repeat="link in links" style="padding: 8px 8px 8px 32px; text-decoration: none; font-size: 25px; color: #818181; display: block; transition: 0.3s">
            <a ui-sref="app({linkId: link.title})">{{ link.title }}</a>
        </div>
    </div>
    <!-- /side menu -->
    <div class="container siem-top-panel">
        <!-- menu button -->
        <div class="siem-link">
            <script>
                function openNav() {
                    document.getElementById("mySidenav").style.width = "250px";
                }
            </script>
            <a href="javascript:void(0)" onclick="openNav()">Menu</a>
        </div>
        <!-- /menu button -->
        <div class="siem-link logout-link">
            <a ng-click="logout()">Logout</a>
        </div>
        <div class="siem-link logout-link">
            <a ui-sref="profile">Profile</a>
        </div>
    </div>

    <!-- main view -->
    <div style="top: 50px; height: calc(100% - 100px);">
        <!-- column 1 -->
        <div style="float: left; max-width: 475px; margin:5px; padding:15px; margin-bottom: 50px;">
            <!-- dashboard preview -->
            <div ng-repeat="link in links track by $index" ng-if="$index%2==1" style="display: inline-block; max-width: 200px; margin: 1rem 1.5rem;">
                <div class="dashboard-preview" ng-if="!link.sub_links">
                    <div class="sm-welcome-link btn btn-default" ui-sref="app({linkId: link.title})">{{link.title}}</div>
                </div>
                <div class="dashboard-preview dropdown" dropdown-append-to-body uib-dropdown is-open="status.isopen"
                     ng-class="'dropdown'" ng-if="link.sub_links" >
                    <div class="sm-welcome-link btn btn-default" uib-dropdown-toggle>{{link.title}}&nbsp;<span class="caret"></span></div>
                    <ul class="dropdown-menu" uib-dropdown-menu role="menu">
                        <li role="presentation" ng-repeat="slink in link.sub_links track by $index">
                            <a role="menuitem" ui-sref="app({linkId: link.title, slinkId: slink.title})">{{slink.title}}</a></li>
                    </ul>
                </div>
                <dynamic-iframe dynamic-iframe-src="{{replace_http(link.url)}}" id="{{link.type}}" style="display: block; overflow: hidden; height: 20rem;"></dynamic-iframe>
            </div>
        </div>

        <!-- column 2 -->
        <div style="float: left; max-width: 475px; margin:5px; padding:15px; margin-bottom: 50px;">
            <div class="siem-logo">
                <img src="/domain/UI/logos/SIEMonster_1.png" />
            </div>
            <!--<h2>A SIEM For Everyone!</h2>-->
            <br/>
            <br/>
            <br/>

            <div class="sm-welcome-links">
                <div ng-if="vm.loading">
                    <div class="sk-fading-circle">
                        <div class="sk-circle1 sk-circle"></div>
                        <div class="sk-circle2 sk-circle"></div>
                        <div class="sk-circle3 sk-circle"></div>
                        <div class="sk-circle4 sk-circle"></div>
                        <div class="sk-circle5 sk-circle"></div>
                        <div class="sk-circle6 sk-circle"></div>
                        <div class="sk-circle7 sk-circle"></div>
                        <div class="sk-circle8 sk-circle"></div>
                        <div class="sk-circle9 sk-circle"></div>
                        <div class="sk-circle10 sk-circle"></div>
                        <div class="sk-circle11 sk-circle"></div>
                        <div class="sk-circle12 sk-circle"></div>
                    </div>
                </div>
                <div ng-if="!vm.loading">

                    <div class="sm-welcome-image">
                        <img src="/domain/SiemApp/LandingPageImage.png" />
                    </div>

                    <!--<div class="dashboard-preview" ng-repeat="link in links">-->
                        <!--<div class="sm-welcome-link btn btn-default" ui-sref="app({linkId: link.id})">{{link.title}}</div>-->
                        <!--<dynamic-iframe dynamic-iframe-src="{{replace_http(link.url)}}"></dynamic-iframe>-->
                    <!--</div>-->
                    <!--<div ng-if="!links || !links.length">-->
                        <!--<b>{{ vm.SiemAuth.User._id }}</b> has no dashboards. <br>-->
                        <!--<br>-->
                        <!--<a ng-click="logout()">Logout</a>-->
                    <!--</div>-->
                    <!--<h3>SIEMonster is a turnkey, open source, enterprise grade Security Incident and Event Management (SIEM), built on scalable, non-licensed components.</h3>-->
                    <h3 style="text-align: center;">SIEM For everyone</h3>
                </div>
            </div>
        </div>

        <!-- column 3 -->
        <div style="float: left; max-width: 475px; margin:5px; padding:15px; margin-bottom: 50px;">
            <div ng-repeat="link in links track by $index" ng-if="$index%2==0" style="display: inline-block; max-width: 200px; margin: 1rem 1.5rem;">
                <div class="dashboard-preview" ng-if="!link.sub_links">
                    <div class="sm-welcome-link btn btn-default" ui-sref="app({linkId: link.title})">{{link.title}}</div>
                </div>
                <div class="dashboard-preview dropdown" dropdown-append-to-body uib-dropdown is-open="status.isopen"
                     ng-class="'dropdown'" ng-if="link.sub_links" >
                    <div class="sm-welcome-link btn btn-default" uib-dropdown-toggle>{{link.title}}&nbsp;<span class="caret"></span></div>
                    <ul class="dropdown-menu" uib-dropdown-menu role="menu">
                        <li role="presentation" ng-repeat="slink in link.sub_links track by $index">
                            <a role="menuitem" ui-sref="app({linkId: link.title, slinkId: slink.title})">{{slink.title}}</a></li>
                    </ul>
                </div>
                <dynamic-iframe dynamic-iframe-src="{{replace_http(link.url)}}" id="{{link.type}}" style="display: block; overflow: hidden; height: 20rem;"></dynamic-iframe>
            </div>
        </div>

    </div>

    <!-- footer for copyright -->
    <div style="position: absolute; right: 0; bottom: 0; left: 0; padding: 1rem; background-color: #efefef; text-align: center;">
        &copy; Copyright SIEMonster Inc. 2017
    </div>
</div>
